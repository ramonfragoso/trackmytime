!function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="/",e(e.s=159)}({159:function(t,n,e){"use strict";e.r(n);var r=e(4);function o(t){var n=t.split("/");return n.length>=2&&"https:"==n[0]?n[2]:""}function a(t){chrome.storage.local.get(["shouldMonitor"],(function(n){chrome.tabs.get(t.tabId,(function(t){chrome.storage.local.get(["last_visited"],(function(n){var e=o(n.last_visited);e?chrome.storage.local.get(["data"],(function(n){var a=n.data,u=Date.now(),i=Object(r.a)(u);if(a[i]&&a[i][e]){var c=a[i][e].length;a[i][e][c-1].finish=u,a[i][e].push({finish:"",start:""})}chrome.storage.local.set({last_visited:t.url},(function(){var n=o(t.url);if(n){a[i]||(a[i]={}),a[i][n]||(a[i][n]=[{start:u,finish:""}]);var e=a[i][n].length;a[i][n][e-1].start=u,chrome.storage.local.set({data:a},(function(){})),console.log(a)}}))})):chrome.storage.local.set({last_visited:t.url},(function(){}))}))}))}))}chrome.runtime.onInstalled.addListener((function(t){chrome.storage.local.set({shouldMonitor:!0,data:{},last_visited:""})})),chrome.webNavigation.onCompleted.addListener((function(t){a(t)})),chrome.tabs.onActivated.addListener((function(t){a(t)}))},2:function(t,n,e){"use strict";e.d(n,"a",(function(){return o}));var r=e(9);function o(t,n){var e;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=Object(r.a)(t))||n&&t&&"number"===typeof t.length){e&&(t=e);var o=0,a=function(){};return{s:a,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,i=!0,c=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return i=t.done,t},e:function(t){c=!0,u=t},f:function(){try{i||null==e.return||e.return()}finally{if(c)throw u}}}}},4:function(t,n,e){"use strict";e.d(n,"a",(function(){return u})),e.d(n,"g",(function(){return c})),e.d(n,"f",(function(){return m})),e.d(n,"e",(function(){return p})),e.d(n,"d",(function(){return b})),e.d(n,"c",(function(){return g})),e.d(n,"b",(function(){return j}));var r=e(2),o=1e3,a=864e5;function u(t){var n=new Date(t),e=""+(n.getMonth()+1),r=""+n.getDate(),o=n.getFullYear();return e.length<2&&(e="0"+e),r.length<2&&(r="0"+r),[o,e,r].join("-")}var i=function(){return t=0,n=255,Math.floor(Math.random()*(n-t+1)+t);var t,n},c=function(t){return"rgba(".concat([i(),i(),i(),t].join(","),")")},f=function(t,n){return n.timeSpent-t.timeSpent},l=function(t){var n=t.sort(f);return n.length>10?n.slice(0,10):n},s=function(t){for(var n=Date.now(),e=[],r=0;r<t;r++)e.push(u(n)),n-=a;return e},d=function(t,n){for(var e=0;e<t.length;e++)if(t[e].name==n)return e;return-1},v=function(t,n){var e,o=Object(r.a)(n);try{for(o.s();!(e=o.n()).done;){var a=e.value,u=d(t,a.name);u>=0?t[u].timeSpent+=a.timeSpent:t.push(a)}}catch(i){o.e(i)}finally{o.f()}return t},h=function(t,n){if(t[n]){for(var e=[],a=0,u=Object.keys(t[n+""]);a<u.length;a++){var i,c=u[a],f=t[n+""][c],l=0,s=Object(r.a)(f);try{for(s.s();!(i=s.n()).done;){var d=i.value;"number"==typeof d.finish&&"number"==typeof d.start&&(l+=d.finish-d.start)}}catch(h){s.e(h)}finally{s.f()}var v=parseInt(l/o);e.push({name:c,timeSpent:v})}return e}return[]},y=function(t,n){var e,o=h(t,n),a=0,u=Object(r.a)(o);try{for(u.s();!(e=u.n()).done;){a+=e.value.timeSpent}}catch(i){u.e(i)}finally{u.f()}return a},m=function(t){console.log("today");var n=t.data,e=u(Date.now());if(n[e]){for(var a=[],i=0,c=Object.keys(n[e+""]);i<c.length;i++){var f,s=c[i],d=n[e+""][s],v=0,h=Object(r.a)(d);try{for(h.s();!(f=h.n()).done;){var y=f.value;"number"==typeof y.finish&&"number"==typeof y.start&&(v+=y.finish-y.start)}}catch(p){h.e(p)}finally{h.f()}var m=parseInt(v/o);a.push({name:s,timeSpent:m})}return l(a)}return[]},p=function(t){console.log("last week");var n,e=t.data,o=s(7),a=[],u=Object(r.a)(o);try{for(u.s();!(n=u.n()).done;){var i=n.value;a=v(a,h(e,i))}}catch(c){u.e(c)}finally{u.f()}return l(a)},b=function(t){console.log("last month");var n,e=t.data,o=s(30),a=[],u=Object(r.a)(o);try{for(u.s();!(n=u.n()).done;){var i=n.value;a=v(a,h(e,i))}}catch(c){u.e(c)}finally{u.f()}return l(a)},g=function(t){console.log("all time");for(var n=t.data,e=[],r=0,o=Object.keys(n);r<o.length;r++){var a=o[r];e=v(e,h(n,a))}return l(e)},j=function(t){var n,e=t.data,o=s(7),a=[],u=Object(r.a)(o);try{for(u.s();!(n=u.n()).done;){var i=n.value;a.push({date:i,timeSpent:y(e,i)})}}catch(c){u.e(c)}finally{u.f()}return a}},9:function(t,n,e){"use strict";function r(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function o(t,n){if(t){if("string"===typeof t)return r(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?r(t,n):void 0}}e.d(n,"a",(function(){return o}))}});
//# sourceMappingURL=background.js.map